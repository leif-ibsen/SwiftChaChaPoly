{"sections":[],"hierarchy":{"paths":[["doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly"]]},"kind":"article","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftchachapoly\/cryptokit"]}],"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/CryptoKit"},"seeAlsoSections":[{"identifiers":["doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Usage","doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Example","doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Performance","doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Dependencies","doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/References"],"generated":true}],"metadata":{"modules":[{"name":"SwiftChaChaPoly"}],"roleHeading":"Article","role":"article","title":"CryptoKit Compatibility"},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"anchor":"","text":""},{"inlineContent":[{"text":"SwiftChaChaPoly is compatible with Appleâ€™s CryptoKit framework as the following examples show:","type":"text"}],"type":"paragraph"},{"level":3,"type":"heading","text":"Example 1: SwiftChaChaPoly encrypts, CryptoKit opens","anchor":"Example-1-SwiftChaChaPoly-encrypts-CryptoKit-opens"},{"syntax":"Swift","code":["import CryptoKit","import SwiftChaChaPoly","","let msg = Bytes(\"Hi, there\".utf8)","let aad = Bytes(\"The AAD\".utf8)","","let key = Bytes(repeating: 7, count: 32)","let nonce = Bytes(repeating: 1, count: 12)","","let chacha = try ChaChaPoly(key, nonce)","var ct = msg","let tag = chacha.encrypt(&ct, aad)","","\/\/ ct contains the ciphertext","","let ckKey = CryptoKit.SymmetricKey(data: key)","let ckNonce = try CryptoKit.ChaChaPoly.Nonce(data: nonce)","let sealedBox = try CryptoKit.ChaChaPoly.SealedBox(nonce: ckNonce, ciphertext: ct, tag: tag)","let pt = try CryptoKit.ChaChaPoly.open(sealedBox, using: ckKey, authenticating: aad)","print(String(bytes: pt, encoding: .utf8)!)"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"giving:","type":"text"}]},{"syntax":"Swift","code":["Hi, there"],"type":"codeListing"},{"level":3,"type":"heading","text":"Example 2: CrypotoKit seals, SwiftChaChaPoly decrypts","anchor":"Example-2-CrypotoKit-seals-SwiftChaChaPoly-decrypts"},{"type":"codeListing","syntax":"Swift","code":["import CryptoKit","import SwiftChaChaPoly","","let msg = Bytes(\"Hi, there\".utf8)","let aad = Bytes(\"The AAD\".utf8)","","let ckKey = CryptoKit.SymmetricKey(size: .bits256)","let sealedBox = try CryptoKit.ChaChaPoly.seal(msg, using: ckKey, authenticating: aad)","","let key = ckKey.withUnsafeBytes {","    return Bytes($0)","}","let nonce = Bytes(sealedBox.nonce)","let chacha = try ChaChaPoly(key, nonce)","var ct = Bytes(sealedBox.ciphertext)","","\/\/ ct contains the ciphertext","","let ok = chacha.decrypt(&ct, Bytes(sealedBox.tag), aad)","print(String(bytes: ct, encoding: .utf8)!)"]},{"type":"paragraph","inlineContent":[{"text":"giving:","type":"text"}]},{"type":"codeListing","syntax":"Swift","code":["Hi, there"]}]}],"references":{"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly":{"identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly","title":"SwiftChaChaPoly","url":"\/documentation\/swiftchachapoly","role":"collection","kind":"symbol","abstract":[],"type":"topic"},"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly/Dependencies":{"abstract":[],"url":"\/documentation\/swiftchachapoly\/dependencies","type":"topic","title":"Dependencies","kind":"article","role":"article","identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Dependencies"},"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly/Usage":{"type":"topic","title":"Usage","kind":"article","identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Usage","abstract":[],"role":"article","url":"\/documentation\/swiftchachapoly\/usage"},"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly/References":{"title":"References","kind":"article","role":"article","identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/References","abstract":[],"url":"\/documentation\/swiftchachapoly\/references","type":"topic"},"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly/Performance":{"url":"\/documentation\/swiftchachapoly\/performance","abstract":[],"identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Performance","kind":"article","type":"topic","role":"article","title":"Performance"},"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly/Example":{"identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Example","kind":"article","url":"\/documentation\/swiftchachapoly\/example","abstract":[],"type":"topic","role":"article","title":"Example"}}}
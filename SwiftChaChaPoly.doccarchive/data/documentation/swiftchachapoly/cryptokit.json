{"kind":"article","metadata":{"modules":[{"name":"SwiftChaChaPoly"}],"roleHeading":"Article","title":"CryptoKit Compatibility","role":"article"},"identifier":{"url":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/CryptoKit","interfaceLanguage":"swift"},"schemaVersion":{"minor":3,"major":0,"patch":0},"variants":[{"paths":["\/documentation\/swiftchachapoly\/cryptokit"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly"]]},"abstract":[{"type":"text","text":"SwiftChaChaPoly is compatible with Appleâ€™s CryptoKit framework"}],"seeAlsoSections":[{"generated":true,"title":"Additional Information","identifiers":["doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Performance","doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/References"]}],"primaryContentSections":[{"content":[{"anchor":"","type":"heading","text":"","level":2},{"level":3,"anchor":"Example-1","text":"Example 1","type":"heading"},{"inlineContent":[{"type":"text","text":"SwiftChaChaPoly encrypts, CryptoKit opens."}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["import CryptoKit","import SwiftChaChaPoly","","let msg = Bytes(\"Hi, there\".utf8)","let aad = Bytes(\"The AAD\".utf8)","","let key = Bytes(repeating: 7, count: 32)","let nonce = Bytes(repeating: 1, count: 12)","","let chacha = try ChaChaPoly(key, nonce)","var ct = msg","let tag = chacha.encrypt(&ct, aad)","","\/\/ ct contains the ciphertext","","let ckKey = CryptoKit.SymmetricKey(data: key)","let ckNonce = try CryptoKit.ChaChaPoly.Nonce(data: nonce)","let sealedBox = try CryptoKit.ChaChaPoly.SealedBox(nonce: ckNonce, ciphertext: ct, tag: tag)","let pt = try CryptoKit.ChaChaPoly.open(sealedBox, using: ckKey, authenticating: aad)","print(String(bytes: pt, encoding: .utf8)!)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"giving:"}]},{"syntax":"swift","code":["Hi, there"],"type":"codeListing"},{"type":"heading","level":3,"anchor":"Example-2","text":"Example 2"},{"type":"paragraph","inlineContent":[{"type":"text","text":"CrypotoKit seals, SwiftChaChaPoly decrypts."}]},{"type":"codeListing","syntax":"swift","code":["import CryptoKit","import SwiftChaChaPoly","","let msg = Bytes(\"Hi, there\".utf8)","let aad = Bytes(\"The AAD\".utf8)","","let ckKey = CryptoKit.SymmetricKey(size: .bits256)","let sealedBox = try CryptoKit.ChaChaPoly.seal(msg, using: ckKey, authenticating: aad)","","let key = ckKey.withUnsafeBytes {","    return Bytes($0)","}","let nonce = Bytes(sealedBox.nonce)","let chacha = try ChaChaPoly(key, nonce)","var ct = Bytes(sealedBox.ciphertext)","","\/\/ ct contains the ciphertext","","let ok = chacha.decrypt(&ct, Bytes(sealedBox.tag), aad)","print(String(bytes: ct, encoding: .utf8)!)"]},{"inlineContent":[{"type":"text","text":"giving:"}],"type":"paragraph"},{"code":["Hi, there"],"type":"codeListing","syntax":"swift"}],"kind":"content"}],"sections":[],"references":{"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly/References":{"identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/References","url":"\/documentation\/swiftchachapoly\/references","role":"article","title":"References","abstract":[{"text":"Algorithms from the following papers have been used in the implementation","type":"text"}],"kind":"article","type":"topic"},"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly/Performance":{"title":"Performance","role":"article","url":"\/documentation\/swiftchachapoly\/performance","abstract":[{"text":"Encryption and decryption speed","type":"text"}],"kind":"article","type":"topic","identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly\/Performance"},"doc://SwiftChaChaPoly/documentation/SwiftChaChaPoly":{"role":"collection","abstract":[{"text":"Authenticated Encryption with Associated Data","type":"text"}],"title":"SwiftChaChaPoly","identifier":"doc:\/\/SwiftChaChaPoly\/documentation\/SwiftChaChaPoly","kind":"symbol","url":"\/documentation\/swiftchachapoly","type":"topic"}}}